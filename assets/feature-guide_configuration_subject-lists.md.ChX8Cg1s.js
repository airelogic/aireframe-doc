import{_ as t,o as a,c as i,ah as s}from"./chunks/framework.BKCvwjwz.js";const o="/assets/subject-list.BsrqzkkP.png",l="/assets/subject-list-configuration-fields.B5DXreXs.png",g=JSON.parse('{"title":"Subject Lists","description":"","frontmatter":{},"headers":[],"relativePath":"feature-guide/configuration/subject-lists.md","filePath":"feature-guide/configuration/subject-lists.md","lastUpdated":1771269020000}'),n={name:"feature-guide/configuration/subject-lists.md"};function r(d,e,c,u,h,p){return a(),i("div",null,[...e[0]||(e[0]=[s('<h1 id="subject-lists" tabindex="-1">Subject Lists <a class="header-anchor" href="#subject-lists" aria-label="Permalink to &quot;Subject Lists&quot;">​</a></h1><p>Subject lists display subjects and their associated structured data for a chosen scope. A subject list allows you to:</p><ul><li>View subjects for a specific location</li><li>Search for subjects that match a term</li><li>See every subject when viewing the tenant level</li></ul><p>The subject list configuration allows you to define which fields are shown, as well as setting any default filter options.</p><p><img src="'+o+'" alt="Example subject list" data-zoomable="true"></p><h2 id="configuring-subject-lists" tabindex="-1">Configuring Subject Lists <a class="header-anchor" href="#configuring-subject-lists" aria-label="Permalink to &quot;Configuring Subject Lists&quot;">​</a></h2><h4 id="data-pipeline" tabindex="-1">Data Pipeline <a class="header-anchor" href="#data-pipeline" aria-label="Permalink to &quot;Data Pipeline&quot;">​</a></h4><p>To configure a subject list, you must first have configured a data pipeline. See <a href="/feature-guide/configuration/widgets.html#data-pipelines">Data Pipelines</a> for more information.</p><p>There are a few restrictions on which data pipelines can be used in subject lists:</p><ul><li>The data pipeline must be based on a cacheable data set <small>(i.e. a data set from a data source that supports the <code>DataChangeNotification</code> capability)</small></li><li>The data pipeline must contain at least one aggregator to ensure only a single data point is returned for each subject.</li></ul><div class="tip custom-block"><p class="custom-block-title">Tip</p><p>A common choice is to use the <code>MaxBy</code> aggregator on a <code>DateTime</code> field to get the most recent data point for each subject.</p></div><h4 id="fields" tabindex="-1">Fields <a class="header-anchor" href="#fields" aria-label="Permalink to &quot;Fields&quot;">​</a></h4><p>Once you have selected the data pipeline, you can choose which fields to display on the subject list. The fields are displayed left to right based on the order they are displayed here, e.g. the first field will be the leftmost column.</p><p><img src="'+l+'" alt="Subject list configuration" data-zoomable="true"></p><p>Clicking on the selected fields will allow you to change the display name for the field, as well as being able to format the display value using a <a href="/feature-guide/advanced/liquid.html">liquid</a> expression e.g. <span><code>{{ value | round: 2 }}</code></span></p><div class="tip custom-block"><p class="custom-block-title">NOTE</p><p>Sorting and filters are applied on the actual value, not the display value.</p><p>If you want to filter or sort by a liquid formatted value, you can use a mapper in the pipeline to create a new field with the formatted value.</p></div><p>The <a href="/feature-guide/configuration/widgets.html#context">widget context</a> is also available in the liquid formatter. All fields are available, except the <code>structuralEntity</code> and <code>structureType</code> fields when viewing the subject list at the tenant level.</p><p>A field can be marked as hidden, if you want to use it for filtering or sorting, but do not want it to be displayed in the subject list.</p><h5 id="default-filters" tabindex="-1">Default Filters <a class="header-anchor" href="#default-filters" aria-label="Permalink to &quot;Default Filters&quot;">​</a></h5><p>Default filters allow you to define a filter that will be applied when the subject list is first loaded. The users can change this filter when viewing the subject list.</p><ul><li>Filters are applied as <code>AND</code> (i.e all filters must evaluate to true for the subject to be included).</li><li>When a filter is applied on an array field, it will match if any of the values in the array match the filter condition.</li></ul><p>Filters cannot be used when searching for subjects, as the search term takes precedence.</p><h2 id="migration" tabindex="-1">Migration <a class="header-anchor" href="#migration" aria-label="Permalink to &quot;Migration&quot;">​</a></h2><p>From AireFrame 2.44.0, subject lists must be configured using the above configuration, and can no longer be added to the subject list section of the widget configuration.</p><p>Previously configured subject lists will continue to work as before, but it is recommended to migrate them to the new configuration.</p><h4 id="subject-lists-using-a-single-widget-dashboard" tabindex="-1">Subject lists using a single widget dashboard <a class="header-anchor" href="#subject-lists-using-a-single-widget-dashboard" aria-label="Permalink to &quot;Subject lists using a single widget dashboard&quot;">​</a></h4><p>In order to migrate this configuration, all that is required is to create a copy of the existing data pipeline and add a <code>MaxBy</code>/<code>MinBy</code> aggregator over the default ordering field, depending on the default order direction used in the widget.</p><div class="warning custom-block"><p class="custom-block-title">IMPORTANT</p><p>If the previous behaviour relied on filtering the entire data set for each subject, each field that was filtered on should be mapped to an array aggregator in the new data pipeline.</p></div><p>You can then create a new subject list using this data pipeline, and configure the fields to match the previous configuration.</p><h4 id="subject-lists-using-a-multi-widget-dashboard" tabindex="-1">Subject lists using a multi widget dashboard <a class="header-anchor" href="#subject-lists-using-a-multi-widget-dashboard" aria-label="Permalink to &quot;Subject lists using a multi widget dashboard&quot;">​</a></h4><p>In order to migrate this configuration, you will need to create a <a href="/feature-guide/configuration/data-sets.html#linked-data-sets">linked data set</a> that every data set that each widget draws from.</p><p>The setup of this linked pipeline will depend on what data you want to present, but generally most will use a <code>MaxBy</code> aggregator over a <code>DateTime</code> field to get the most recent data point for each subject.</p><div class="warning custom-block"><p class="custom-block-title">IMPORTANT</p><p>If the previous behaviour relied on filtering the entire data set for each subject, each field that was filtered on should be mapped to an array aggregator in the linked data set.</p></div><p>Once you have created the linked data set, you will then need to create a pipeline for the subject list that draws from this linked data set. This will need also need an aggregator, a <code>MaxBy</code> over any field will work.</p><p>You can then create a new subject list using this data pipeline, and configure the fields to match the previous configuration.</p>',35)])])}const b=t(n,[["render",r]]);export{g as __pageData,b as default};
