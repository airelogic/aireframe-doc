<!DOCTYPE html>
<html lang="en">

    <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Data Sets | AireFrame Docs</title>
<meta name="generator" content="Jekyll v4.3.2" />
<meta property="og:title" content="Data Sets" />
<meta name="author" content="Danny Heard, Karsten Lloyd" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="This page explains how to add data sets in AireFrame. These data sets will contain the schema for a data source which will be used to create a data visualisation. See the guide on how to configure data sources here." />
<meta property="og:description" content="This page explains how to add data sets in AireFrame. These data sets will contain the schema for a data source which will be used to create a data visualisation. See the guide on how to configure data sources here." />
<link rel="canonical" href="https://docs.aireframe.com/docs/data-set-config/" />
<meta property="og:url" content="https://docs.aireframe.com/docs/data-set-config/" />
<meta property="og:site_name" content="AireFrame Docs" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-07-13T00:00:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Data Sets" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Danny Heard, Karsten Lloyd"},"dateModified":"2021-07-13T00:00:00+00:00","datePublished":"2021-07-13T00:00:00+00:00","description":"This page explains how to add data sets in AireFrame. These data sets will contain the schema for a data source which will be used to create a data visualisation. See the guide on how to configure data sources here.","headline":"Data Sets","mainEntityOfPage":{"@type":"WebPage","@id":"https://docs.aireframe.com/docs/data-set-config/"},"url":"https://docs.aireframe.com/docs/data-set-config/"}</script>
<!-- End Jekyll SEO tag -->

  <meta property="og:image" content="https://docs.aireframe.com/assets/posts/"/>
  <link rel="stylesheet" href="/assets/css/main.css">
  <link rel="shortcut icon" type="image/png" href="/assets/img/favicon.png" >
  <script src="/assets/js/main.js"></script>
  
</head>

    <body>
    <!-- 
<nav class="siblings dark">
	
	<div class="nav-bar wrapper wrapper-large">
		
			<a  href="https://forms4health.com">Home</a>
		
			<a  href="https://docs.forms4health.com">Learn</a>
		
			<a  href="https://demo.forms4health.com">Demo</a>
		
		<span class="no-active-replacement"></span>
	</div>
</nav> -->
    <header class="uk-background-secondary">
    <div data-uk-sticky="sel-target: .uk-navbar-container; cls-active: uk-navbar-sticky" class="uk-sticky uk-sticky-fixed" style="position: fixed; top: 0px; width: 1904px;">
        <nav class="uk-navbar-container">
            <div class="uk-container">
    <div data-uk-navbar>
        <div class="uk-navbar-left">
            <a class="uk-navbar-item uk-logo uk-visible@m" href="/">AireFrame Docs</a>
            
              <a class="uk-navbar-toggle uk-hidden@m" href="#offcanvas-docs" data-uk-toggle><span data-uk-navbar-toggle-icon></span> <span class="uk-margin-small-left">Mini-nav</span></a>
            

        </div>
        <div class="uk-navbar-center uk-hidden@m">
            <a class="uk-navbar-item uk-logo" href="/">AireFrame Docs</a>
        </div>
        <div class="uk-navbar-right">
            <ul class="uk-navbar-nav uk-visible@m">
                
                    
                    
                    
                        <li><a href="/docs/" >Documentation</a></li>
                    
                
                    
                    
                    
                        <li><a href="/news/" >News</a></li>
                    
                
                    
                    
                    
                        <li><a href="/changelog/" >Release notes</a></li>
                    
                
                    
                    
                    
                        <li><a href="https://www.airelogic.com/" target="_blank" >About Airelogic</a></li>
                    
                
            </ul>

            
            <div>
                <a class="uk-navbar-toggle" uk-search-icon href="#"></a>
                <div class="uk-drop uk-background-default uk-border-rounded" uk-drop="mode: click; pos: left-center; offset: 0">
                    <form class="uk-search uk-search-navbar uk-width-1-1" onsubmit="return false;">
                        <input id="navbar-search" class="uk-search-input" type="search" placeholder="Search..." autofocus>
                    </form>
                    <ul id="navbar-search-results" class="uk-position-absolute uk-width-1-1 uk-list"></ul>
                </div>
            </div>
            <script>
            SimpleJekyllSearch({
                searchInput: document.getElementById('navbar-search'),
                resultsContainer: document.getElementById('navbar-search-results'),
                noResultsText: '<li>No results found</li>',
                searchResultTemplate: '<li><a href="{url}">{title}</a></li>',
                json: '/search.json'
            });
            </script>
            

            
              <a class="uk-navbar-toggle uk-hidden@m" href="#offcanvas" data-uk-toggle><span data-uk-navbar-toggle-icon></span> <span class="uk-margin-small-left">Menu</span></a>
            


        </div>
    </div>
</div>

        </nav>
    </div>
</header>


    

    <div class="uk-section">
    <div class="uk-container">
        <div class="uk-grid-large" data-uk-grid>

            <div class="sidebar-fixed-width uk-visible@m">
    <div class="sidebar-docs">
        
        <h5>Gettting Started</h5>
        <ul class="uk-nav uk-nav-default doc-nav">
        
          
          
          <li class=""><a href="/docs/getting-started/">Getting Started</a></li>
        
        </ul>
        
        <h5>Subject Configuration</h5>
        <ul class="uk-nav uk-nav-default doc-nav">
        
          
          
          <li class=""><a href="/docs/data-source-config/">Data Sources</a></li>
        
          
          
          <li class=""><a href="/docs/subject-provider/">Subject Provider</a></li>
        
          
          
          <li class=""><a href="/docs/subject-configuration/">Subject Configuration</a></li>
        
        </ul>
        
        <h5>Widgets</h5>
        <ul class="uk-nav uk-nav-default doc-nav">
        
          
          
          <li class=""><a href="/docs/data-source-config/">Data Sources</a></li>
        
          
          
          <li class=""><a href=""></a></li>
        
          
          
          <li class=""><a href="/docs/visualisation-designer/">Widget Designer</a></li>
        
          
          
          <li class=""><a href="/docs/dashboards/">Dashboards</a></li>
        
        </ul>
        
        <h5>Structure & User Management</h5>
        <ul class="uk-nav uk-nav-default doc-nav">
        
          
          
          <li class=""><a href="/docs/tenant-structure/">Tenant Structure</a></li>
        
          
          
          <li class=""><a href="/docs/groups/">Groups</a></li>
        
          
          
          <li class=""><a href="/docs/user-management/">User Management</a></li>
        
        </ul>
        
        <h5>Transfer Configuration</h5>
        <ul class="uk-nav uk-nav-default doc-nav">
        
          
          
          <li class=""><a href="/docs/import-export-configuration/">Transfer Configuration</a></li>
        
        </ul>
        
        <h5>Developer</h5>
        <ul class="uk-nav uk-nav-default doc-nav">
        
          
          
          <li class=""><a href="/docs/api/">API</a></li>
        
          
          
          <li class=""><a href="/docs/liquid/">Liquid</a></li>
        
          
          
          <li class=""><a href="/docs/sdk/">AireFrame SDK</a></li>
        
          
          
          <li class=""><a href="/docs/options/">Options</a></li>
        
        </ul>
        
    </div>
</div>

            <div class="uk-width-1-1 uk-width-expand@m">

                <article class="uk-article">

                    <h1 class="uk-article-title">Data Sets</h1>

                    <p class="subtitle uk-text-lead uk-text-muted">Add and configure the data sets</p>

                    <div class="uk-article-meta uk-margin-top uk-margin-medium-bottom">
                        





<time datetime="2021-07-13T00:00:00+00:00" itemprop="datePublished">
    
    Jul 13, 2021
</time>

                    </div>

                    <div class="article-content">
                        <p>This page explains how to add data sets in AireFrame. These data sets will contain the schema for a data source which will be used to create a data visualisation. <em>See the guide on how to configure data sources <a href="/docs/data-source-config/">here</a></em>.</p>

<p>What you can find on this page:</p>

<ul>
  <li><a href="#required-permissions"><strong>Required Permissions</strong></a></li>
  <li><a href="#add-data-set"><strong>Add Data Set</strong></a></li>
</ul>

<h4 id="required-permissions"><strong>Required Permissions</strong></h4>

<ul>
  <li>In order to add a data set you will need the following permissions:
    <ul>
      <li><strong>List Data Set</strong></li>
      <li><strong>View Data Set</strong></li>
      <li><strong>Create Data Set</strong></li>
    </ul>
  </li>
</ul>

<h4 id="add-data-set"><strong>Add Data Set</strong></h4>

<ol>
  <li>Go to the data visualisation configuration screen: Configuration -&gt; Dashboards and Data.</li>
  <li>Select the Data Sets tab and click the ‘+’ button to add a new Data Set, you will see a screen as follows <img src="/assets/screenshots/data-set/add-data-set.png" alt="add data set" /></li>
  <li>Select the data source</li>
  <li>Enter a title and description for the data set</li>
  <li>
    <p>If you have chosen a non-internal data source, you will need to provide a relevant JSON data set definition for that data source <em>(You will not be able to add the data set unless you have provided the  definition)</em>:</p>

    <ul>
      <li><strong>Internal</strong>
 <b>Documents (PDFs) Extract</b>
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> {
  "type": "documents"
 }
</code></pre></div>        </div>
      </li>
    </ul>

    <p><b>Demographics Extract</b></p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> {
     "type": "demographics"
 }
</code></pre></div>    </div>

    <ul>
      <li>
        <p><strong>Forms4Health</strong></p>

        <p><b>Form instances data set:</b></p>
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  {
      "type": "form-instances",
      "includeWithdrawn": false
  }
</code></pre></div>        </div>

        <p><b>Submitted data set:</b></p>

        <p>Building block level:</p>
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  {
      "key": "news2",
      "type": "building-block",
      "version": 1
  }
</code></pre></div>        </div>

        <p>Form level:</p>
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> {
      "type":"form",
      "key":"fluid-balance",
      "version":1
  }
</code></pre></div>        </div>

        <p>To extract a control’s display value instead of it’s underlying value. You need to specify the <code class="language-plaintext highlighter-rouge">controlId</code> and the <code class="language-plaintext highlighter-rouge">valueType</code> <code class="language-plaintext highlighter-rouge">[value/displayValue]</code></p>
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  "dataPoints": [
      {
          "controlId": "my-control",
          "valueType": "displayValue"
      }
  ]
</code></pre></div>        </div>

        <p>For a form level data set you also need to specify the building block for the control e.g.</p>
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  "dataPoints": [
      {
          "controlId": "my-control",
          "valueType": "displayValue",
          "buildingBlock": {
              "key": "my-building-block",
              "version": 1
          }
      }
  ]
</code></pre></div>        </div>
      </li>
      <li><strong>AireFlow Example</strong>
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  {
  "status": ["NEW", "COMPLETED"],
  "workflowDefinitionKey": "key",
  "taskKey": "key",
  "stateDimensions": [
      {
          "key": "state-key",
          "dataType": "Integer"
      }
  ]
  }
</code></pre></div>        </div>
        <p>Where:</p>
        <ul>
          <li>Workflow defintion key (optional, if omittied returns all tasks) is the key of the workflow definiton you want to see tasks for</li>
          <li>Task key (optional, if omittied returns all tasks) is the key of the task you want to see</li>
          <li>Status (optional, if omittied returns all tasks) is an array of statuses on which to filter the tasks. See <a href="https://docs.aireflow.co.uk/docs/task-statuses/">AireFlow docs</a> for the available statuses (These must be capitalised)</li>
          <li>State dimensions (optional) allows dimensions to be populated with data from the AireFlow task state.</li>
        </ul>
      </li>
      <li><strong>FHIR R4 Example</strong>
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  {
  "resourceType": "Observation",
  "searchParameters": [
      "code-value-concept=http://snomed.info/sct|364075005"
  ],
  "dimensions": [
      {
          "key": "date",
          "fhirPath": "Observation.effective",
          "dataType": "DateTime"
      },
      {
          "key": "heartRate",
          "fhirPath": "Observation.value.value",
          "dataType": "Decimal"
      }
  ]
  }
</code></pre></div>        </div>
        <p>Where:</p>
        <ul>
          <li>The resource type is what you want to query from the FHIR server - it must be searchable by patient identifier</li>
          <li>Search parameters are used to filter the resource type, in the example this is for the snomed code for heart rate observations. You can use as many as you like and use normal FHIR conventions (and/or) etc.</li>
          <li>The dimensions are used to populate the widget with the fetched data, the keys are the data points that you want to show, they are resolved using the provided FHIRPath, so any FHIRPath query is valid here. You can use FHIRPath to combine multiple expressions in case one or more do not resolve in the fetched data. The value returned for each data point will be the first FHIRPath expression that finds a value.
  You must specify the data type for each dimension.</li>
        </ul>
      </li>
    </ul>

    <p><img src="/assets/screenshots/data-set/config-options.png" alt="configuration values" /></p>
  </li>
  <li>Click create</li>
</ol>

<h5 id="subject-identifier">Subject Identifier</h5>

<p>For some data sources (e.g. FHIR) you will need to specify what subject identifier should be passed down the the data source with the data set.
For example, you may want to use the value of a custom field instead of the default internal aireframe identifier.</p>

<p>The options are:</p>
<ul>
  <li>Internal - AireFrame’s internal identifier</li>
  <li>External - The identifier received from the subject provider (configurable on the <a href="/docs/subject-provider#configure-subject-provider">subject configuration page</a>)</li>
  <li>Custom Field - Any required custom field (configurable on the <a href="/docs/subject-configuration#change-subject-configuration">subject configuration page</a>). <em>Note, An error will occur if this field is not populated for the subject(s) being viewed</em></li>
</ul>

<p><img src="/assets/screenshots/data-set/subject-identifier.png" alt="subject identifer configuration" /></p>

                    </div>

                    <hr class="uk-margin-medium">

                    <div class="uk-margin-large-top">
    <h3>Related Articles</h3>

    
    
    

    <ul class="uk-list">
    

    
    

    

    

    

    
    

    

    

    

    
    

    

    

    

    
    

    

    

    

    
    

    

    

    

    
    

    

    

    

    
    

    

    

    

    
    

    

    

    

    
    

    

    

    

    
    

    

    

    

    
    

    

    
        <li><a href="/docs/dashboards/">Dashboards</a></li>
        
        
    

    

    
    

    

    

    

    
    

    

    
        <li><a href="/docs/visualisation-designer/">Widget Designer</a></li>
        
        
    

    

    
    

    

    

    

    
    

    

    

    
    </ul>
</div>

                </article>

                <div>
                    <div class="uk-section uk-text-center uk-link-muted">
    <div class="uk-margin-medium uk-text-small">
        <div></div>
        <div></div> 
    </div> 
</div>

                </div>

                <script>
                    // Table of contents scroll to
                    UIkit.scroll('#markdown-toc a', {
                        duration: 400,
                        offset: 120
                    });
                </script>

            </div>

    </div>
</div>


    <div id="offcanvas-docs" data-uk-offcanvas="overlay: true">
    <div class="uk-offcanvas-bar">

        <button class="uk-offcanvas-close" type="button" data-uk-close></button>

        
        <h5 class="uk-margin-top">Gettting Started</h5>
        <ul class="uk-nav uk-nav-default doc-nav">
        
          
          
          <li class=""><a href="/docs/getting-started/">Getting Started</a></li>
        
        </ul>
        
        <h5 class="uk-margin-top">Subject Configuration</h5>
        <ul class="uk-nav uk-nav-default doc-nav">
        
          
          
          <li class=""><a href="/docs/data-source-config/">Data Sources</a></li>
        
          
          
          <li class=""><a href="/docs/subject-provider/">Subject Provider</a></li>
        
          
          
          <li class=""><a href="/docs/subject-configuration/">Subject Configuration</a></li>
        
        </ul>
        
        <h5 class="uk-margin-top">Widgets</h5>
        <ul class="uk-nav uk-nav-default doc-nav">
        
          
          
          <li class=""><a href="/docs/data-source-config/">Data Sources</a></li>
        
          
          
          <li class=""><a href=""></a></li>
        
          
          
          <li class=""><a href="/docs/visualisation-designer/">Widget Designer</a></li>
        
          
          
          <li class=""><a href="/docs/dashboards/">Dashboards</a></li>
        
        </ul>
        
        <h5 class="uk-margin-top">Structure & User Management</h5>
        <ul class="uk-nav uk-nav-default doc-nav">
        
          
          
          <li class=""><a href="/docs/tenant-structure/">Tenant Structure</a></li>
        
          
          
          <li class=""><a href="/docs/groups/">Groups</a></li>
        
          
          
          <li class=""><a href="/docs/user-management/">User Management</a></li>
        
        </ul>
        
        <h5 class="uk-margin-top">Transfer Configuration</h5>
        <ul class="uk-nav uk-nav-default doc-nav">
        
          
          
          <li class=""><a href="/docs/import-export-configuration/">Transfer Configuration</a></li>
        
        </ul>
        
        <h5 class="uk-margin-top">Developer</h5>
        <ul class="uk-nav uk-nav-default doc-nav">
        
          
          
          <li class=""><a href="/docs/api/">API</a></li>
        
          
          
          <li class=""><a href="/docs/liquid/">Liquid</a></li>
        
          
          
          <li class=""><a href="/docs/sdk/">AireFrame SDK</a></li>
        
          
          
          <li class=""><a href="/docs/options/">Options</a></li>
        
        </ul>
        

    </div>
</div>


    <div id="offcanvas" data-uk-offcanvas="flip: true; overlay: true">
    <div class="uk-offcanvas-bar">

        <button class="uk-offcanvas-close" type="button" data-uk-close></button>

        <ul class="uk-nav uk-nav-default">
            <li><a class="uk-logo uk-margin-small-bottom" href="/">AireFrame Docs</a></li>
            
                
            <li><a href="https://docs.aireframe.com/docs/" >Documentation</a></li>
            
                
            <li><a href="https://docs.aireframe.com/news/" >News</a></li>
            
                
            <li><a href="https://docs.aireframe.com/changelog/" >Release notes</a></li>
            
                
            <li><a href="https://www.airelogic.com/" target="_blank" >About Airelogic</a></li>
            
        </ul>

        <div class="uk-margin-small-top uk-text-center uk-text-muted uk-link-muted">
            <div data-uk-grid class="uk-child-width-auto uk-grid-small uk-flex-center uk-grid">
                













            </div>
        </div>

    </div>
</div>


    

    </body>

</html>
